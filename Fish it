-- ===== Services =====
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")
local UserInputService = game:GetService("UserInputService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local PetsFolder = workspace:WaitForChild("Pets")
local FishingRE = ReplicatedStorage:WaitForChild("Remote"):WaitForChild("FishingRE")

-- ===== Variables =====
local AutoClaimEnabled = false
local ClaimDelay = 2
local AutoFish2Enabled = false
local UIExists = true
local argsClaim = {"Claim"}

-- ===== UI =====
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "AutoHubUI"
ScreenGui.Parent = PlayerGui
ScreenGui.ResetOnSpawn = false

local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, 260, 0, 180)
Frame.Position = UDim2.new(0.35,0,0.35,0)
Frame.BackgroundColor3 = Color3.fromRGB(30,30,30)
Frame.Parent = ScreenGui
Instance.new("UICorner", Frame).CornerRadius = UDim.new(0,12)

-- Title
local Title = Instance.new("TextLabel", Frame)
Title.Size = UDim2.new(1, -30, 0, 30)
Title.Position = UDim2.new(0, 10, 0, 0)
Title.BackgroundTransparency = 1
Title.Text = "üêæ Auto Hub"
Title.TextColor3 = Color3.fromRGB(255,255,255)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 16
Title.TextXAlignment = Enum.TextXAlignment.Left

-- Close Button
local CloseBtn = Instance.new("TextButton", Frame)
CloseBtn.Size = UDim2.new(0,30,0,30)
CloseBtn.Position = UDim2.new(1,-30,0,0)
CloseBtn.Text = "X"
CloseBtn.BackgroundColor3 = Color3.fromRGB(200,50,50)
CloseBtn.TextColor3 = Color3.fromRGB(255,255,255)
CloseBtn.Font = Enum.Font.GothamBold
CloseBtn.TextSize = 14
Instance.new("UICorner", CloseBtn).CornerRadius = UDim.new(0,8)
CloseBtn.MouseButton1Click:Connect(function()
    AutoClaimEnabled = false
    AutoFish2Enabled = false
    UIExists = false
    ScreenGui:Destroy()
end)

-- ===== Toggle Buttons =====
local function createToggle(text, posY, callback)
    local btn = Instance.new("TextButton", Frame)
    btn.Size = UDim2.new(0, 200, 0, 35)
    btn.Position = UDim2.new(0.5,-100,0,posY)
    btn.Text = text..": OFF"
    btn.TextColor3 = Color3.fromRGB(255,255,255)
    btn.BackgroundColor3 = Color3.fromRGB(70,130,180)
    btn.Font = Enum.Font.GothamBold
    btn.TextSize = 14
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0,8)
    local enabled = false
    btn.MouseButton1Click:Connect(function()
        enabled = not enabled
        btn.Text = text..(enabled and ": ON" or ": OFF")
        btn.BackgroundColor3 = enabled and Color3.fromRGB(34,139,34) or Color3.fromRGB(70,130,180)
        callback(enabled)
    end)
    return btn
end

-- Auto Claim Toggle
createToggle("Auto Claim",40,function(state) AutoClaimEnabled = state end)

-- Auto Fish 2 Toggle
createToggle("Auto Fish 2",85,function(state) AutoFish2Enabled = state end)

-- ===== Dragging System =====
local dragging, dragInput, dragStart, startPos
local function update(input)
    local delta = input.Position - dragStart
    Frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
end

Frame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = Frame.Position
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

Frame.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        dragInput = input
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if input == dragInput and dragging then
        update(input)
    end
end)

-- ===== Functions =====
local function ClaimPet(pet)
    pcall(function()
        local root = pet:FindFirstChild("RootPart")
        if root then
            for _, child in pairs(root:GetChildren()) do
                if child:IsA("RemoteEvent") then
                    child:FireServer(unpack(argsClaim))
                end
            end
        end
    end)
end

local function AutoFish2()
    local focusArgs = {"Focus","FishRob"}
    local throwArgs = {
        "Throw",
        {Bait = "FishingBait2", Pos = Vector3.new(156.904, 11, 558.944)}
    }
    local successArgs = {"POUT",{SUC=1}}

    while AutoFish2Enabled and UIExists do
        -- ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡∏ñ‡∏∑‡∏≠‡πÄ‡∏ö‡πá‡∏î‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡∏ñ‡∏∑‡∏≠‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ñ‡∏∑‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏≠‡∏á
        local hasRod = false
        -- ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏ä‡πá‡∏Å (‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡∏ï‡∏≤‡∏°‡πÄ‡∏Å‡∏°‡∏à‡∏£‡∏¥‡∏á) ‡πÄ‡∏ä‡πà‡∏ô ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÉ‡∏ô Player ‡∏´‡∏£‡∏∑‡∏≠ Tool
        local char = LocalPlayer.Character
        if char then
            for _, tool in pairs(char:GetChildren()) do
                if tool:IsA("Tool") and tool.Name == "FishingRod2" then
                    hasRod = true
                    break
                end
            end
        end

        if not hasRod then
            pcall(function()
                ReplicatedStorage:WaitForChild("Remote"):WaitForChild("CharacterRE"):FireServer(unpack(focusArgs))
            end)
        end

        -- ‡πÇ‡∏¢‡∏ô‡πÄ‡∏ö‡πá‡∏î
        pcall(function()
            FishingRE:FireServer(unpack(throwArgs))
        end)

        -- Spam Success ‡∏£‡∏±‡∏ß ‡πÜ ‡∏ó‡∏∏‡∏Å 0.1 ‡∏ß‡∏¥ ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ß‡∏•‡∏≤ 1 ‡∏ß‡∏¥
        local timer = 0
        while timer < 1 do
            if not AutoFish2Enabled or not UIExists then break end
            pcall(function()
                FishingRE:FireServer(unpack(successArgs))
            end)
            task.wait(0.1)
            timer = timer + 0.1
        end
        -- ‡∏ß‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÇ‡∏¢‡∏ô‡πÄ‡∏ö‡πá‡∏î‡πÉ‡∏´‡∏°‡πà
    end
end


-- ===== Loops =====
-- Auto Claim Loop
task.spawn(function()
    while UIExists do
        if AutoClaimEnabled then
            for _, pet in pairs(PetsFolder:GetChildren()) do
                if not AutoClaimEnabled or not UIExists then break end
                ClaimPet(pet)
            end
            if AutoClaimEnabled and UIExists then
                task.wait(ClaimDelay)
            end
        else
            task.wait(0.2)
        end
    end
end)

-- Auto Fish 2 Loop
task.spawn(function()
    while UIExists do
        if AutoFish2Enabled then
            AutoFish2()
        else
            task.wait(0.2)
        end
    end
end)


-- ===== Variables Auto Fish 1 =====
local AutoFish1Enabled = false

-- ===== Toggle Button =====
createToggle("Auto Fish 1",130,function(state) AutoFish1Enabled = state end)

-- ===== Auto Fish 1 Function =====
local function AutoFish1()
    local focusArgs = {"Focus","FishRob"}
    local throwArgs = {
        "Throw",
        {Bait = "FishingBait1", Pos = Vector3.new(156.904, 11, 558.944)}
    }
    local successArgs = {"POUT",{SUC=1}}

    while AutoFish1Enabled and UIExists do
        -- ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ñ‡∏∑‡∏≠‡πÄ‡∏ö‡πá‡∏î
        local hasRod = false
        local char = LocalPlayer.Character
        if char then
            for _, tool in pairs(char:GetChildren()) do
                if tool:IsA("Tool") and tool.Name == "FishingRod1" then
                    hasRod = true
                    break
                end
            end
        end

        if not hasRod then
            pcall(function()
                ReplicatedStorage:WaitForChild("Remote"):WaitForChild("CharacterRE"):FireServer(unpack(focusArgs))
            end)
        end

        -- ‡πÇ‡∏¢‡∏ô‡πÄ‡∏ö‡πá‡∏î
        pcall(function()
            FishingRE:FireServer(unpack(throwArgs))
        end)

        -- Spam Success ‡∏£‡∏±‡∏ß ‡πÜ 1 ‡∏ß‡∏¥
        local timer = 0
        while timer < 1 do
            if not AutoFish1Enabled or not UIExists then break end
            pcall(function()
                FishingRE:FireServer(unpack(successArgs))
            end)
            task.wait(0.1)
            timer = timer + 0.1
        end
    end
end

-- ===== Auto Fish 1 Loop =====
task.spawn(function()
    while UIExists do
        if AutoFish1Enabled then
            AutoFish1()
        else
            task.wait(0.2)
        end
    end
end)


-- ===== Variables Auto Fish 3 =====
local AutoFish3Enabled = false

-- ===== Toggle Button =====
createToggle("Auto Fish 3",160,function(state) AutoFish3Enabled = state end)

-- ===== Auto Fish 3 Function =====
local function AutoFish3()
    local focusArgs = {"Focus","FishRob"}
    local throwArgs = {
        "Throw",
        {Bait = "FishingBait3", Pos = Vector3.new(156.904, 11, 558.944)}
    }
    local successArgs = {"POUT",{SUC=1}}

    while AutoFish3Enabled and UIExists do
        -- ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ñ‡∏∑‡∏≠‡πÄ‡∏ö‡πá‡∏î
        local hasRod = false
        local char = LocalPlayer.Character
        if char then
            for _, tool in pairs(char:GetChildren()) do
                if tool:IsA("Tool") and tool.Name:find("FishingRod") then
                    hasRod = true
                    break
                end
            end
        end

        if not hasRod then
            pcall(function()
                ReplicatedStorage:WaitForChild("Remote"):WaitForChild("CharacterRE"):FireServer(unpack(focusArgs))
            end)
        end

        -- ‡πÇ‡∏¢‡∏ô‡πÄ‡∏ö‡πá‡∏î
        pcall(function()
            FishingRE:FireServer(unpack(throwArgs))
        end)

        -- Spam Success ‡∏£‡∏±‡∏ß ‡πÜ 1 ‡∏ß‡∏¥
        local timer = 0
        while timer < 1 do
            if not AutoFish3Enabled or not UIExists then break end
            pcall(function()
                FishingRE:FireServer(unpack(successArgs))
            end)
            task.wait(0.1)
            timer = timer + 0.1
        end
    end
end

-- ===== Auto Fish 3 Loop =====
task.spawn(function()
    while UIExists do
        if AutoFish3Enabled then
            AutoFish3()
        else
            task.wait(0.2)
        end
    end
end)

